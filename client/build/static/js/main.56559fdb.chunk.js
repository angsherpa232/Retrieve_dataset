(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),o=a.n(r),c=a(43),s=a(20),u=a(48),i=a(44),m=a(49),d=a(36),h=a.n(d),g=a(5),p=a.n(g),E=function(e){return l.a.createElement("div",null,"Status: ",l.a.createElement("br",null),"".concat(e.status),l.a.createElement("br",null)," ",l.a.createElement("br",null),"Total data found: ".concat(e.dataLength),l.a.createElement("br",null),l.a.createElement("br",null),e.loading?l.a.createElement("img",{src:"https://thumbs.gfycat.com/HonoredExemplaryAmphibian-size_restricted.gif",alt:"img not found"}):null)},f=function(e){return l.a.createElement("div",{className:"user_input"},l.a.createElement("form",{onSubmit:e.onSubmit},l.a.createElement("label",null,"Enter your query here:",l.a.createElement("input",{type:"text",placeholder:"bonn/crime",value:e.postvalue,onChange:e.handleChange})),l.a.createElement("label",null,l.a.createElement("input",{type:"submit",value:"Submit"}))),l.a.createElement("br",null),l.a.createElement(E,e))},b=function(){return l.a.createElement("div",{className:"header"},"Retrieve dataset in user friendly way !!!")},v=a(80),y=a(81),L=a(79),S=a(82),k=function(e){return l.a.createElement("div",{className:"mapComp"},l.a.createElement(v.a,{center:[e.lat,e.lng],zoom:e.zoom,maxZoom:18,useFlyTo:!0,bounds:e.bounds},l.a.createElement(y.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.response.map(function(e){var t="".concat(e.metadata.location.coordinates[1]),a=["".concat(e.metadata.location.coordinates[0]),t];return l.a.createElement(L.a,{key:"".concat(e._id),position:a},l.a.createElement(S.a,null,e.metadata.tags," ",l.a.createElement("br",null)," ",e.metadata.DateTime))})))},w=function(){return l.a.createElement("div",{className:"footer"},"Click ",l.a.createElement("a",{href:"https://documenter.getpostman.com/view/5553462/RzffJ9cc",target:"_blank"},"here")," for Documentation.")},A=function(e){return l.a.createElement("div",{className:"theme_time"},l.a.createElement("table",null,l.a.createElement("caption",null,"Available data."),l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Theme"),l.a.createElement("th",null,"Date")))),Array.isArray(e.post)?e.post.map(function(e){return l.a.createElement("table",{key:e._id},l.a.createElement("tbody",null,l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.metadata.tags),l.a.createElement("td",null,e.metadata.DateTime))))}):console.log("nein"))},C=(Array.prototype.move=function(e,t){this.splice(t,0,this.splice(e,1)[0])},function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={response:[],coords:[],userValue:"",status:"",dataLength:"",loading:!1,lat:42.364166,lng:43.745002,zoom:3,bounds:null},a.pushLatLong=function(e){var t=[];return e.data.map(function(e){t.push(e.metadata.location.coordinates)}),{latlongArray:t,result:e}},a.changeLatLong=function(e){e.latlongArray.map(function(e){return e.move(1,0)}),a.setState({coords:e.latlongArray,response:e.result.data,dataLength:e.result.data.length,status:e.result.statusText,bounds:p.a.latLngBounds(e.latlongArray)})},a.handleChangeMain=function(e){a.setState({userValue:e.target.value})},a.checkLength=function(e){e.data.length>0?a.changeLatLong(a.pushLatLong(e)):a.setState({dataLength:0})},a.changeState=function(e){console.log("from button push"),a.setState({status:e.statusText,response:e.data,lng:e.data[0].metadata.location.coordinates[0],lat:e.data[0].metadata.location.coordinates[1],zoom:12,loading:!1}),a.checkLength(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];h.a.get("/api/all").then(function(a){e.changeLatLong(e.pushLatLong(a)),t.push(a.data[0].metadata.location.coordinates),t.map(function(e){return e.move(1,0)})}).catch(function(e){return console.log(e)})}},{key:"submitted",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),h.a.get(this.state.userValue).then(function(e){t.changeState(e)}).catch(function(e){t.setState({loading:!1,status:e,dataLength:0,response:[]})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",{className:"row"},l.a.createElement(f,{postvalue:this.state.userValue,handleChange:this.handleChangeMain,onSubmit:this.submitted.bind(this),status:this.state.status,dataLength:this.state.dataLength,loading:this.state.loading}),l.a.createElement(k,this.state),l.a.createElement(A,{post:this.state.response})),l.a.createElement(w,null))}}]),t}(n.Component));o.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[50,2,1]]]);
//# sourceMappingURL=main.56559fdb.chunk.js.map