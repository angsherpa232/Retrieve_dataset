{"version":3,"sources":["components/userInputExtended.js","components/user_input.js","components/header.js","components/mapComp.js","components/footer.js","components/theme_time.js","App.js","moveFunction.js","index.js"],"names":["UserInputStats","props","react_default","a","createElement","status","concat","dataLength","loading","src","alt","UserInput","className","onSubmit","type","placeholder","value","postvalue","onChange","handleChange","userInputExtended","Header","MapComp","Map","center","lat","lng","zoom","maxZoom","useFlyTo","bounds","TileLayer","attribution","url","response","map","item","metadata","location","coordinates","position","Marker","key","_id","Popup","tags","DateTime","Footer","href","target","Theme_Time","Array","isArray","post","console","log","App","prototype","move","from","to","this","splice","state","coords","userValue","pushLatLong","res","holder","data","elem","push","latlongArray","result","changeLatLong","obj","_this","setState","length","statusText","L","latLngBounds","handleChangeMain","e","checkLength","changeState","_this2","preventDefault","axios","get","then","catch","err","header","user_input","submitted","bind","mapComp","theme_time","footer","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4e6070d4.chunk.js","sourcesContent":["import React from 'react';\n\nconst UserInputStats = (props) => {\n    return (\n        <div>\n        {`Status: `}\n        <br/>\n        {props.status === \"OK\" ? \"OK\" : \"Error: Check for spelling mistakes or extra whitespace in the parameters.\"}\n        <br/> <br/>\n        {`Total datasets found: ${props.dataLength}`}\n        <br/>\n        <br/>\n        {props.loading ? <img src=\"https://thumbs.gfycat.com/HonoredExemplaryAmphibian-size_restricted.gif\" alt=\"img not found\"/>: null}\n        </div>\n    )\n}\n\nexport default UserInputStats;","import React from 'react';\nimport UserInputStats from './userInputExtended';\n\nconst UserInput = (props) => {\n    return (\n        <div className=\"user_input\">\n        <form onSubmit={props.onSubmit}> \n            <label>\n                Enter your query here:\n            <input type=\"text\"\n            placeholder=\"bonn/crime\"\n            value={props.postvalue}\n            onChange={props.handleChange} \n            />\n            </label> \n            <label>\n                <input type=\"submit\" value=\"Submit\"/>\n            </label>\n        </form>\n        <br/>\n        <UserInputStats {...props}/>\n        </div>\n    )\n}\n\nexport default UserInput;","import React from 'react';\n\nconst Header = () => {\n    return (\n        <div className=\"header\">Retrieve dataset in user friendly way.</div>\n    )\n}\n\nexport default Header;","import React from 'react';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\n\nconst MapComp = (props) => {\n    return (\n        <div className=\"mapComp\">\n        <Map center={[props.lat,props.lng]} zoom={props.zoom} maxZoom={18} useFlyTo={true} bounds={props.bounds}>\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n      \n      {props.response.map(item=>{\n    let lng = `${item.metadata.location.coordinates[1]}`;\n    let lat = `${item.metadata.location.coordinates[0]}`;\n    let position = [lat, lng];\n    return (\n    <Marker key={`${item._id}`} position={position}>\n          <Popup>\n            {item.metadata.tags} <br /> {item.metadata.DateTime}\n          </Popup>\n        </Marker>\n      )})\n}\n        </Map>\n      </div>\n    )\n}\n\nexport default MapComp;\n","import React from 'react';\n\nconst Footer = () => {\n    return (\n        <div className=\"footer\">\n        Click <a href=\"https://documenter.getpostman.com/view/5553462/RzffJ9cc\" target=\"_blank\">here</a> for Documentation.\n        &nbsp;\n        &nbsp;\n        &nbsp;\n        Click <a href=\"https://goo.gl/forms/I54nOBAkGugNaWz12\" target=\"_blank\">here</a> for Response form.\n        </div>\n    )\n}\n\nexport default Footer;","import React from 'react';\n\nconst Theme_Time = (props) => {\n    return (\n            <div className=\"theme_time\">\n            <table>\n                <caption>Available data.</caption>\n                <thead>\n                <tr>\n                    <th>Theme</th>\n                    <th>Date</th>\n                </tr>\n                </thead>\n            </table>\n            {Array.isArray(props.post)?\n            props.post.map((item) => (\n                <table key={item._id}>\n                    <tbody>\n                <tr key={item._id}>\n                    <td>{item.metadata.tags}</td>\n                    <td>{item.metadata.DateTime}</td>\n                </tr>\n                </tbody>\n                </table>\n            ))\n            :console.log('nein')}\n        </div>\n        ) \n}\n\nexport default Theme_Time;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport L from 'leaflet';\n\n//COMPONENTS\nimport UserInput from './components/user_input';\nimport Header from './components/header';\nimport MapComp from './components/mapComp';\nimport Footer from './components/footer';\nimport ThemeTime from './components/theme_time';\nimport './moveFunction';\n\nclass App extends Component {  \n    state= {\n      response: [],\n      coords: [],\n      userValue: '',\n      status: '',\n      dataLength: '',\n      loading: false,\n      lat: 42.364166,\n      lng: 43.745002,\n      zoom: 3,\n      bounds: null\n    }\n\n    pushLatLong = (res) => {\n      let holder = [];\n      res.data.map(elem => {\n        holder.push(elem.metadata.location.coordinates);\n      })\n      return {latlongArray:holder, result: res};\n    }\n\n    changeLatLong = (obj) => {\n      obj.latlongArray.map(elem => elem.move(1,0))\n      this.setState({\n        coords: obj.latlongArray,\n        response: obj.result.data,\n        dataLength: obj.result.data.length,\n        status: obj.result.statusText,\n        bounds: L.latLngBounds(obj.latlongArray)\n      })\n    }\n\n\n   componentDidMount() {\n    this.setState({status: \"OK\"})\n   }\n\n\nhandleChangeMain= (e) => {\n  this.setState({userValue: e.target.value})\n}\n\ncheckLength = (res) => {\n  const resultLen = res.data.length;\n  resultLen > 0 ?\n      this.changeLatLong(this.pushLatLong(res))\n      : this.setState({dataLength: 0})\n}\n\nchangeState = (res) => {\n  this.setState({\n    status: res.statusText,\n    response: res.data,\n    lng: res.data[0].metadata.location.coordinates[0],\n    lat: res.data[0].metadata.location.coordinates[1],\n    zoom: 12,\n    loading: false\n  });\n  this.checkLength(res);\n}\n\nsubmitted (e) {\n  e.preventDefault();\n  this.setState({loading: true});\n  axios.get(this.state.userValue)\n    .then(result => {\n      this.changeState(result);\n    })\n    .catch(err => {\n      this.setState({\n        loading: false,\n        status: err,\n        dataLength: 0,\n        response: []\n      });\n    }\n      );\n}\n\n  render() {\n    return (\n      <div>\n      <Header/>\n      <div className=\"row\">\n      <UserInput postvalue = {this.state.userValue} \n      handleChange={this.handleChangeMain}\n      onSubmit = {this.submitted.bind(this)}\n      status = {this.state.status}\n      dataLength = {this.state.dataLength}\n      loading = {this.state.loading}\n      />\n      <MapComp {...this.state}/>\n      <ThemeTime post={this.state.response}/>\n      </div>\n      <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nexport default Array.prototype.move = function(from, to) {\n    this.splice(to, 0, this.splice(from, 1)[0]);\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}